# Housing-Market Prices

This folder contains regression outputs for the Chapter 2 house price analysis using 2SLS.

## What this module does
We estimate 2SLS models of CBSA-level monthly house price growth on the local mortgage rate gap.
The endogenous regressor is `rate_gap`, instrumented by `Z_bartik`. All specifications include
CBSA fixed effects and month fixed effects, with standard errors clustered at the CBSA level.

In addition to the baseline 2SLS model, we run a set of robustness checks that vary the sample
and specification following the analysis script.

## Inputs (from data/transformed/ch02)
1. Zillow house prices (ZHVI)
- data/transformed/ch02/zillow/zillow_zhvi.csv
Used to construct monthly house price growth:
`price_chg = 100 * (log(ZHVI_t) - log(ZHVI_{t-1}))`.

2. Core CBSA-month panel (RateGap, IV, and controls)
- data/transformed/ch02/housing_quant/panel_rategap_hat.csv
Contains `rate_gap`, `Z_bartik`, and time-varying controls such as unemployment rate,
migration rate, and building permits.

3. Zillow housing quantity proxy (new listings)
- data/transformed/ch02/zillow/zillow_newlisting.csv
Used to construct a logged lock-in proxy (`proxy_newlist`), primarily for consistency
with the broader Chapter 2 data pipeline.

## Outputs
1. housing_price_2sls_baseline_and_robustness.csv
A tidy table that records the estimated 2SLS coefficient on `rate_gap` and key statistics
for:
- Baseline 2SLS
- Baseline + lagged dependent variable
- Trimmed sample (5–95 percentiles of rate gap) [as implemented in code]
- High-gap vs low-gap subsamples (split at the sample median) [as implemented in code]
- COVID vs hiking-period subsamples [as implemented in code]

2. housing_price_2sls_models.rds (optional)
Serialized `fixest` model objects for reproducibility and for producing LaTeX tables
without rerunning regressions.

## Reproducibility
These outputs are generated by:
- code/ch02/07_housing_price/01_price_2sls_robustness.R

---

## Additional transformed input for heterogeneity: Saiz (2010) supply elasticity

File:
- saiz2010_cbsa.csv

Path:
- data/transformed/ch02/housing_price/saiz2010_cbsa.csv

What it contains:
- A CBSA-level mapping of Saiz (2010) housing supply elasticity for use in heterogeneity analysis.
- Key columns:
  - cbsa_code: 5-digit CBSA code (aligned with the Chapter 2 panel)
  - elasticity: Saiz supply elasticity
  - inv_elast: inverse elasticity (1 / elasticity), frequently used to classify “more constrained” vs “more elastic” areas

How it is generated:
- code/ch02/07_housing_price/00_build_saiz2010_cbsa.R

Raw inputs used:
- data/raw/ch02/saiz2010/saiz2010.csv
- data/raw/ch02/saiz2010/cbsa03_msa99.xls
